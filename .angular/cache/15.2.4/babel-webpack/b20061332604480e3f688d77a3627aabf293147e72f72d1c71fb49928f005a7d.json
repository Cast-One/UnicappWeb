{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { PurchaseSummaryDialogComponent } from '../purchase-summary-dialog/purchase-summary-dialog.component';\nlet ProductSelectorComponent = class ProductSelectorComponent {\n  constructor(dialog, snackBar) {\n    this.dialog = dialog;\n    this.snackBar = snackBar;\n    this.products = [{\n      code: '7501000624089',\n      name: 'Arcoiris',\n      stock: 4,\n      purchase_price: 5.91,\n      sale_price: 6.0,\n      image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750100062408L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF'\n    }, {\n      code: '75003135',\n      name: 'Boing Guayaba',\n      stock: 4,\n      purchase_price: 10.25,\n      sale_price: 12.0,\n      image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00000007500177L.jpg'\n    }, {\n      code: '75003104',\n      name: 'Boing Mango',\n      stock: 4,\n      purchase_price: 10.25,\n      sale_price: 12.0,\n      image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00000007500175L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF'\n    }, {\n      code: '75003159',\n      name: 'Boing Manzana',\n      stock: 3,\n      purchase_price: 10.25,\n      sale_price: 12.0,\n      image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00000007500179L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF'\n    }, {\n      code: '7501011128323',\n      name: 'Cheetos',\n      stock: 5,\n      purchase_price: 4.67,\n      sale_price: 7.0,\n      image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750101112832L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF'\n    }, {\n      code: '7500478023363',\n      name: 'Cheetos Flamming Hot',\n      stock: 3,\n      purchase_price: 4.67,\n      sale_price: 7.0,\n      image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750047802336L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF'\n    }, {\n      code: '7500478008247',\n      name: 'Chokis',\n      stock: 4,\n      purchase_price: 5.91,\n      sale_price: 6.0,\n      image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750047800824L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF'\n    }, {\n      code: '7501011132191',\n      name: 'Churrumais',\n      stock: 7,\n      purchase_price: 4.67,\n      sale_price: 7.0,\n      image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750047800200L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF'\n    }, {\n      code: '7501011125704',\n      name: 'Doritos',\n      stock: 8,\n      purchase_price: 4.67,\n      sale_price: 7.0,\n      image: 'https://m.media-amazon.com/images/I/71MhS674spL._AC_SX679_.jpg'\n    }, {\n      code: '7500478012398',\n      name: 'Emperador Sabor Chocolate',\n      stock: 5,\n      purchase_price: 5.91,\n      sale_price: 5.0,\n      image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750047801239L.jpg'\n    }, {\n      code: '7500478012404',\n      name: 'Emperador Sabor Vainilla',\n      stock: 6,\n      purchase_price: 5.91,\n      sale_price: 5.0,\n      image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750047801240L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF'\n    }, {\n      code: '7501031360130',\n      name: 'Manzanita Sol',\n      stock: 3,\n      purchase_price: 8.25,\n      sale_price: 10.0,\n      image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750103136013L.jpg'\n    }, {\n      code: '7501030419037',\n      name: 'Mini Gansito',\n      stock: 22,\n      purchase_price: 5.29,\n      sale_price: 6.0,\n      image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750103041903L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF'\n    }, {\n      code: '7501000630363',\n      name: 'Mini Mamut',\n      stock: 16,\n      purchase_price: 2.2,\n      sale_price: 3.0,\n      image: 'https://cdn.shopify.com/s/files/1/0372/4450/2149/products/farm1_9446eb12-17ff-4004-b79d-fc2fb98cc282_1200x1200.jpg?v=1596841679'\n    }, {\n      code: '7501031346301',\n      name: 'Mirinda',\n      stock: 1,\n      purchase_price: 8.25,\n      sale_price: 10.0,\n      image: 'https://despensaurbana.mx/content/images/thumbs/5f0e5fe51721854af7ff0c7b_Refresco_Mirinda_Lata_355_Ml_24_Pz_KYGMAU4OEH.jpg.png'\n    }, {\n      code: '040697741541',\n      name: 'Muffins',\n      stock: 20,\n      purchase_price: 5.6,\n      sale_price: 5.0,\n      image: 'https://img.freepik.com/fotos-premium/cupcake-chispas-chocolate-sobre-fondo-blanco_319172-1105.jpg?w=2000'\n    }, {\n      code: '75000011',\n      name: 'Nesquik',\n      stock: 11,\n      purchase_price: 9.76,\n      sale_price: 10.0,\n      image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00000007500001L.jpg'\n    }, {\n      code: '7501031311309',\n      name: 'Pepsi',\n      stock: 2,\n      purchase_price: 8.25,\n      sale_price: 10.0,\n      image: 'https://despensaurbana.mx/content/images/thumbs/5f0e5fe51721854af7ff0c75_refresco-pepsi-regular-lata-355-ml.png'\n    }, {\n      code: '7501011125322',\n      name: 'Rancheritos',\n      stock: 8,\n      purchase_price: 4.67,\n      sale_price: 7.0,\n      image: 'https://images.albertsons-media.com/is/image/ABS/960544064-ECOM?$ng-ecom-pdp-desktop$&defaultImage=Not_Available'\n    }, {\n      code: '7500478015610',\n      name: 'Ruffles',\n      stock: 6,\n      purchase_price: 4.67,\n      sale_price: 7.0,\n      image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750047801561L1.jpg'\n    }, {\n      code: '7501011101005',\n      name: 'Sabritas',\n      stock: 2,\n      purchase_price: 4.67,\n      sale_price: 7.0,\n      image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750101110100L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF'\n    }, {\n      code: '7501071120091',\n      name: 'Squirt',\n      stock: 3,\n      purchase_price: 8.25,\n      sale_price: 10.0,\n      image: 'https://www.pidefacilraul.com/cms/wp-content/uploads/2020/05/09-192.jpg'\n    }];\n    this.selectedProducts = [];\n  }\n  getTotal() {\n    return this.selectedProducts.reduce((total, product) => total + product.sale_price * (product.quantity || 1), 0);\n  }\n  selectProduct(product) {\n    if (product.stock === 0) {\n      alert('Este producto no tiene stock disponible.');\n      return;\n    }\n    if (!product.selected) {\n      product.selected = true;\n      product.quantity = 1;\n    } else {\n      product.quantity += 1;\n    }\n    product.stock -= 1;\n    if (!this.selectedProducts.includes(product)) {\n      this.selectedProducts.push(product);\n    }\n  }\n  removeProduct(index) {\n    this.selectedProducts[index].selected = false;\n    this.selectedProducts.splice(index, 1);\n  }\n  addProduct(product) {\n    if (product.stock === 0) {\n      alert('Este producto no tiene stock disponible.');\n      return;\n    }\n    product.stock -= 1;\n    product.quantity += 1;\n  }\n  subtractProduct(product, index) {\n    if (product.quantity > 1) {\n      product.stock += 1;\n      product.quantity -= 1;\n    } else {\n      this.removeProduct(index);\n    }\n  }\n  openPurchaseSummaryDialog() {\n    if (this.selectedProducts.length === 0) {\n      this.showSnackBar('Seleccione al menos un producto para comprar');\n      return;\n    }\n    const dialogRef = this.dialog.open(PurchaseSummaryDialogComponent, {\n      data: {\n        selectedProducts: this.selectedProducts,\n        total: this.getTotal(),\n        userID: '',\n        amountToPay: 0,\n        purchase: () => {\n          console.log('Compra realizada');\n          dialogRef.close();\n        }\n      }\n    });\n  }\n  showSnackBar(message) {\n    this.snackBar.open(message, 'Cerrar', {\n      duration: 3000,\n      horizontalPosition: 'center',\n      verticalPosition: 'top'\n    });\n  }\n};\nProductSelectorComponent = __decorate([Component({\n  selector: 'app-product-selector',\n  templateUrl: './product-selector.component.html',\n  styleUrls: ['./product-selector.component.scss']\n})], ProductSelectorComponent);\nexport { ProductSelectorComponent };","map":{"version":3,"mappings":"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","names":["Component","PurchaseSummaryDialogComponent","ProductSelectorComponent","constructor","dialog","snackBar","code","name","stock","purchase_price","sale_price","image","getTotal","selectedProducts","reduce","total","product","quantity","selectProduct","alert","selected","includes","push","removeProduct","index","splice","addProduct","subtractProduct","openPurchaseSummaryDialog","length","showSnackBar","dialogRef","open","data","userID","amountToPay","purchase","console","log","close","message","duration","horizontalPosition","verticalPosition","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/Users/macbook/Documents/GitHub/UnicappWeb/src/app/product-selector/product-selector.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { Product } from '../models/product';\nimport { PurchaseSummaryDialogComponent } from '../purchase-summary-dialog/purchase-summary-dialog.component';\n\n@Component({\n  selector: 'app-product-selector',\n  templateUrl: './product-selector.component.html',\n  styleUrls: ['./product-selector.component.scss']\n})\nexport class ProductSelectorComponent {\n\n  constructor(private dialog: MatDialog, private snackBar: MatSnackBar) {}\n\n  products: Product[] = [\n    { code: '7501000624089', name: 'Arcoiris', stock: 4, purchase_price: 5.91, sale_price: 6.0, image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750100062408L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF' },\n    { code: '75003135', name: 'Boing Guayaba', stock: 4, purchase_price: 10.25, sale_price: 12.0, image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00000007500177L.jpg' },\n    { code: '75003104', name: 'Boing Mango', stock: 4, purchase_price: 10.25, sale_price: 12.0, image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00000007500175L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF' },\n    { code: '75003159', name: 'Boing Manzana', stock: 3, purchase_price: 10.25, sale_price: 12.0, image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00000007500179L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF' },\n    { code: '7501011128323', name: 'Cheetos', stock: 5, purchase_price: 4.67, sale_price: 7.0, image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750101112832L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF' },\n    { code: '7500478023363', name: 'Cheetos Flamming Hot', stock: 3, purchase_price: 4.67, sale_price: 7.0, image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750047802336L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF' },\n    { code: '7500478008247', name: 'Chokis', stock: 4, purchase_price: 5.91, sale_price: 6.0, image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750047800824L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF' },\n    { code: '7501011132191', name: 'Churrumais', stock: 7, purchase_price: 4.67, sale_price: 7.0, image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750047800200L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF' },\n    { code: '7501011125704', name: 'Doritos', stock: 8, purchase_price: 4.67, sale_price: 7.0, image: 'https://m.media-amazon.com/images/I/71MhS674spL._AC_SX679_.jpg' },\n    { code: '7500478012398', name: 'Emperador Sabor Chocolate', stock: 5, purchase_price: 5.91, sale_price: 5.0, image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750047801239L.jpg' },\n    { code: '7500478012404', name: 'Emperador Sabor Vainilla', stock: 6, purchase_price: 5.91, sale_price: 5.0, image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750047801240L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF' },\n    { code: '7501031360130', name: 'Manzanita Sol', stock: 3, purchase_price: 8.25, sale_price: 10.0, image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750103136013L.jpg' },\n    { code: '7501030419037', name: 'Mini Gansito', stock: 22, purchase_price: 5.29, sale_price: 6.0, image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750103041903L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF' },\n    { code: '7501000630363', name: 'Mini Mamut', stock: 16, purchase_price: 2.2, sale_price: 3.0, image: 'https://cdn.shopify.com/s/files/1/0372/4450/2149/products/farm1_9446eb12-17ff-4004-b79d-fc2fb98cc282_1200x1200.jpg?v=1596841679' },\n    { code: '7501031346301', name: 'Mirinda', stock: 1, purchase_price: 8.25, sale_price: 10.0, image: 'https://despensaurbana.mx/content/images/thumbs/5f0e5fe51721854af7ff0c7b_Refresco_Mirinda_Lata_355_Ml_24_Pz_KYGMAU4OEH.jpg.png' },\n    { code: '040697741541', name: 'Muffins', stock: 20, purchase_price: 5.6, sale_price: 5.0, image: 'https://img.freepik.com/fotos-premium/cupcake-chispas-chocolate-sobre-fondo-blanco_319172-1105.jpg?w=2000' },\n    { code: '75000011', name: 'Nesquik', stock: 11, purchase_price: 9.76, sale_price: 10.0, image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00000007500001L.jpg' },\n    { code: '7501031311309', name: 'Pepsi', stock: 2, purchase_price: 8.25, sale_price: 10.0, image: 'https://despensaurbana.mx/content/images/thumbs/5f0e5fe51721854af7ff0c75_refresco-pepsi-regular-lata-355-ml.png' },\n    { code: '7501011125322', name: 'Rancheritos', stock: 8, purchase_price: 4.67, sale_price: 7.0, image: 'https://images.albertsons-media.com/is/image/ABS/960544064-ECOM?$ng-ecom-pdp-desktop$&defaultImage=Not_Available' },\n    { code: '7500478015610', name: 'Ruffles', stock: 6, purchase_price: 4.67, sale_price: 7.0, image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750047801561L1.jpg' },\n    { code: '7501011101005', name: 'Sabritas', stock: 2, purchase_price: 4.67, sale_price: 7.0, image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750101110100L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF' },\n    { code: '7501071120091', name: 'Squirt', stock: 3, purchase_price: 8.25, sale_price: 10.0, image: 'https://www.pidefacilraul.com/cms/wp-content/uploads/2020/05/09-192.jpg' },\n  ];\n\n  selectedProducts: Product[] = [];\n\n  getTotal(): number {\n    return this.selectedProducts.reduce((total, product) => total + (product.sale_price * (product.quantity || 1)), 0);\n  }\n  \n\n  selectProduct(product: Product): void {\n    if (product.stock === 0) {\n      alert('Este producto no tiene stock disponible.');\n      return;\n    }\n  \n    if (!product.selected) {\n      product.selected = true;\n      product.quantity = 1;\n    } else {\n      product.quantity! += 1;\n    }\n  \n    product.stock -= 1;\n    if (!this.selectedProducts.includes(product)) {\n      this.selectedProducts.push(product);\n    }\n  }\n  \n\n  removeProduct(index: number): void {\n    this.selectedProducts[index].selected = false;\n    this.selectedProducts.splice(index, 1);\n  }\n\n  addProduct(product: Product): void {\n    if (product.stock === 0) {\n      alert('Este producto no tiene stock disponible.');\n      return;\n    }\n  \n    product.stock -= 1;\n    product.quantity! += 1;\n  }\n  \n  subtractProduct(product: Product, index: number): void {\n    if (product.quantity! > 1) {\n      product.stock += 1;\n      product.quantity! -= 1;\n    } else {\n      this.removeProduct(index);\n    }\n  }\n  \n  openPurchaseSummaryDialog() {\n    if (this.selectedProducts.length === 0) {\n      this.showSnackBar('Seleccione al menos un producto para comprar');\n      return;\n    }\n\n    const dialogRef = this.dialog.open(PurchaseSummaryDialogComponent, {\n      data: {\n        selectedProducts: this.selectedProducts,\n        total: this.getTotal(),\n        userID: '',\n        amountToPay: 0,\n        purchase: () => {\n          console.log('Compra realizada');\n          dialogRef.close();\n        },\n      },\n    });\n  }\n  showSnackBar(message: string) {\n    this.snackBar.open(message, 'Cerrar', {\n      duration: 3000,\n      horizontalPosition: 'center',\n      verticalPosition: 'top',\n    });\n  }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}