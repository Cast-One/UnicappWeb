{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nconst _c0 = function (a0) {\n  return {\n    \"bg-green-100\": a0\n  };\n};\nfunction ProductSelectorComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵlistener(\"click\", function ProductSelectorComponent_div_2_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const product_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.selectProduct(product_r2));\n    });\n    i0.ɵɵelement(1, \"img\", 10);\n    i0.ɵɵelementStart(2, \"p\", 11);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(5, _c0, product_r2.selected));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", product_r2.image, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Precio: $\", product_r2.sale_price, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Stock: \", product_r2.stock, \"\");\n  }\n}\nfunction ProductSelectorComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"div\", 13);\n    i0.ɵɵelement(2, \"img\", 14);\n    i0.ɵɵelementStart(3, \"div\", 15)(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 16);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function ProductSelectorComponent_div_6_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const product_r5 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.addProduct(product_r5));\n    });\n    i0.ɵɵtext(9, \"+\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function ProductSelectorComponent_div_6_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const product_r5 = restoredCtx.$implicit;\n      const i_r6 = restoredCtx.index;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.subtractProduct(product_r5, i_r6));\n    });\n    i0.ɵɵtext(11, \"-\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 19)(13, \"p\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"p\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const product_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", product_r5.image, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(product_r5.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"x\", product_r5.quantity, \"\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\"Precio unitario: $\", product_r5.sale_price, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Precio total: $\", product_r5.sale_price * product_r5.quantity, \"\");\n  }\n}\nexport class ProductSelectorComponent {\n  constructor() {\n    this.products = [{\n      code: '7501000624089',\n      name: 'Arcoiris',\n      stock: 4,\n      purchase_price: 5.91,\n      sale_price: 6.0,\n      image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750100062408L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF'\n    }, {\n      code: '75003135',\n      name: 'Boing Guayaba',\n      stock: 4,\n      purchase_price: 10.25,\n      sale_price: 12.0,\n      image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00000007500177L.jpg'\n    }, {\n      code: '75003104',\n      name: 'Boing Mango',\n      stock: 4,\n      purchase_price: 10.25,\n      sale_price: 12.0,\n      image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00000007500175L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF'\n    }, {\n      code: '75003159',\n      name: 'Boing Manzana',\n      stock: 3,\n      purchase_price: 10.25,\n      sale_price: 12.0,\n      image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00000007500179L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF'\n    }, {\n      code: '7501011128323',\n      name: 'Cheetos',\n      stock: 5,\n      purchase_price: 4.67,\n      sale_price: 7.0,\n      image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750101112832L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF'\n    }, {\n      code: '7500478023363',\n      name: 'Cheetos Flamming Hot',\n      stock: 3,\n      purchase_price: 4.67,\n      sale_price: 7.0,\n      image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750047802336L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF'\n    }, {\n      code: '7500478008247',\n      name: 'Chokis',\n      stock: 4,\n      purchase_price: 5.91,\n      sale_price: 6.0,\n      image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750047800824L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF'\n    }, {\n      code: '7501011132191',\n      name: 'Churrumais',\n      stock: 7,\n      purchase_price: 4.67,\n      sale_price: 7.0,\n      image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750047800200L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF'\n    }, {\n      code: '7501011125704',\n      name: 'Doritos',\n      stock: 8,\n      purchase_price: 4.67,\n      sale_price: 7.0,\n      image: 'https://m.media-amazon.com/images/I/71MhS674spL._AC_SX679_.jpg'\n    }, {\n      code: '7500478012398',\n      name: 'Emperador Sabor Chocolate',\n      stock: 5,\n      purchase_price: 5.91,\n      sale_price: 5.0,\n      image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750047801239L.jpg'\n    }, {\n      code: '7500478012404',\n      name: 'Emperador Sabor Vainilla',\n      stock: 6,\n      purchase_price: 5.91,\n      sale_price: 5.0,\n      image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750047801240L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF'\n    }, {\n      code: '7501031360130',\n      name: 'Manzanita Sol',\n      stock: 3,\n      purchase_price: 8.25,\n      sale_price: 10.0,\n      image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750103136013L.jpg'\n    }, {\n      code: '7501030419037',\n      name: 'Mini Gansito',\n      stock: 22,\n      purchase_price: 5.29,\n      sale_price: 6.0,\n      image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750103041903L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF'\n    }, {\n      code: '7501000630363',\n      name: 'Mini Mamut',\n      stock: 16,\n      purchase_price: 2.2,\n      sale_price: 3.0,\n      image: 'https://cdn.shopify.com/s/files/1/0372/4450/2149/products/farm1_9446eb12-17ff-4004-b79d-fc2fb98cc282_1200x1200.jpg?v=1596841679'\n    }, {\n      code: '7501031346301',\n      name: 'Mirinda',\n      stock: 1,\n      purchase_price: 8.25,\n      sale_price: 10.0,\n      image: 'https://despensaurbana.mx/content/images/thumbs/5f0e5fe51721854af7ff0c7b_Refresco_Mirinda_Lata_355_Ml_24_Pz_KYGMAU4OEH.jpg.png'\n    }, {\n      code: '040697741541',\n      name: 'Muffins',\n      stock: 20,\n      purchase_price: 5.6,\n      sale_price: 5.0,\n      image: 'https://img.freepik.com/fotos-premium/cupcake-chispas-chocolate-sobre-fondo-blanco_319172-1105.jpg?w=2000'\n    }, {\n      code: '75000011',\n      name: 'Nesquik',\n      stock: 11,\n      purchase_price: 9.76,\n      sale_price: 10.0,\n      image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00000007500001L.jpg'\n    }, {\n      code: '7501031311309',\n      name: 'Pepsi',\n      stock: 2,\n      purchase_price: 8.25,\n      sale_price: 10.0,\n      image: 'https://despensaurbana.mx/content/images/thumbs/5f0e5fe51721854af7ff0c75_refresco-pepsi-regular-lata-355-ml.png'\n    }, {\n      code: '7501011125322',\n      name: 'Rancheritos',\n      stock: 8,\n      purchase_price: 4.67,\n      sale_price: 7.0,\n      image: 'https://images.albertsons-media.com/is/image/ABS/960544064-ECOM?$ng-ecom-pdp-desktop$&defaultImage=Not_Available'\n    }, {\n      code: '7500478015610',\n      name: 'Ruffles',\n      stock: 6,\n      purchase_price: 4.67,\n      sale_price: 7.0,\n      image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750047801561L1.jpg'\n    }, {\n      code: '7501011101005',\n      name: 'Sabritas',\n      stock: 2,\n      purchase_price: 4.67,\n      sale_price: 7.0,\n      image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750101110100L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF'\n    }, {\n      code: '7501071120091',\n      name: 'Squirt',\n      stock: 3,\n      purchase_price: 8.25,\n      sale_price: 10.0,\n      image: 'https://www.pidefacilraul.com/cms/wp-content/uploads/2020/05/09-192.jpg'\n    }];\n    this.selectedProducts = [];\n  }\n  getTotal() {\n    return this.selectedProducts.reduce((total, product) => total + product.sale_price * (product.quantity || 1), 0);\n  }\n  selectProduct(product) {\n    if (product.stock === 0) {\n      alert('Este producto no tiene stock disponible.');\n      return;\n    }\n    if (!product.selected) {\n      product.selected = true;\n      product.quantity = 1;\n    } else {\n      product.quantity += 1;\n    }\n    product.stock -= 1;\n    if (!this.selectedProducts.includes(product)) {\n      this.selectedProducts.push(product);\n    }\n  }\n  removeProduct(index) {\n    this.selectedProducts[index].selected = false;\n    this.selectedProducts.splice(index, 1);\n  }\n  addProduct(product) {\n    if (product.stock === 0) {\n      alert('Este producto no tiene stock disponible.');\n      return;\n    }\n    product.stock -= 1;\n    product.quantity += 1;\n  }\n  subtractProduct(product, index) {\n    if (product.quantity > 1) {\n      product.stock += 1;\n      product.quantity -= 1;\n    } else {\n      this.removeProduct(index);\n    }\n  }\n}\nProductSelectorComponent.ɵfac = function ProductSelectorComponent_Factory(t) {\n  return new (t || ProductSelectorComponent)();\n};\nProductSelectorComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductSelectorComponent,\n  selectors: [[\"app-product-selector\"]],\n  decls: 12,\n  vars: 3,\n  consts: [[1, \"flex\", \"h-full\"], [1, \"grid\", \"grid-cols-3\", \"gap-4\", \"w-3/4\", \"h-full\", \"overflow-auto\"], [\"class\", \"border p-4 rounded shadow\", 3, \"ngClass\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"border-l\", \"w-1/4\", \"p-4\", \"h-full\", \"sticky\", \"top-0\"], [1, \"text-xl\", \"font-semibold\", \"mb-4\"], [\"class\", \"mb-4\", 4, \"ngFor\", \"ngForOf\"], [1, \"border-t\", \"mt-4\", \"pt-4\"], [1, \"font-semibold\"], [1, \"bg-blue-500\", \"text-white\", \"px-4\", \"py-2\", \"rounded\", \"mt-4\", \"w-full\", \"h-12\", \"font-bold\", \"text-xl\", \"mb-4\"], [1, \"border\", \"p-4\", \"rounded\", \"shadow\", 3, \"ngClass\", \"click\"], [1, \"h-32\", \"w-32\", \"mx-auto\", \"mb-4\", 3, \"src\"], [1, \"font-semibold\", \"text-lg\"], [1, \"mb-4\"], [1, \"grid\", \"grid-cols-6\", \"gap-2\", \"items-center\"], [1, \"h-16\", \"w-16\", \"col-span-1\", 3, \"src\"], [1, \"col-span-3\"], [1, \"text-sm\", \"text-gray-500\"], [1, \"bg-blue-500\", \"text-white\", \"px-2\", \"py-1\", \"rounded\", \"col-span-1\", 3, \"click\"], [1, \"bg-red-500\", \"text-white\", \"px-2\", \"py-1\", \"rounded\", \"col-span-1\", 3, \"click\"], [1, \"flex\", \"justify-between\"]],\n  template: function ProductSelectorComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵtemplate(2, ProductSelectorComponent_div_2_Template, 8, 7, \"div\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 3)(4, \"h2\", 4);\n      i0.ɵɵtext(5, \"Productos seleccionados\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(6, ProductSelectorComponent_div_6_Template, 17, 5, \"div\", 5);\n      i0.ɵɵelementStart(7, \"div\", 6)(8, \"p\", 7);\n      i0.ɵɵtext(9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"button\", 8);\n      i0.ɵɵtext(11, \"Comprar\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.products);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.selectedProducts);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"Total: $\", ctx.getTotal(), \"\");\n    }\n  },\n  dependencies: [i1.NgClass, i1.NgForOf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ProductSelectorComponent","constructor","code","name","stock","purchase_price","sale_price","image","getTotal","selectedProducts","reduce","total","product","quantity","selectProduct","alert","selected","includes","push","removeProduct","index","splice","addProduct","subtractProduct","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/macbook/Documents/GitHub/UnicappWeb/src/app/product-selector/product-selector.component.html","/Users/macbook/Documents/GitHub/UnicappWeb/src/app/product-selector/product-selector.component.ts"],"sourcesContent":["<div class=\"flex h-full\">\n    <div class=\"grid grid-cols-3 gap-4 w-3/4 h-full overflow-auto\">\n      <div\n        *ngFor=\"let product of products\"\n        class=\"border p-4 rounded shadow\"\n        (click)=\"selectProduct(product)\"\n        [ngClass]=\"{ 'bg-green-100': product.selected }\"\n      >\n        <img [src]=\"product.image\" class=\"h-32 w-32 mx-auto mb-4\" />\n        <p class=\"font-semibold text-lg\">{{ product.name }}</p>\n        <p>Precio: ${{ product.sale_price }}</p>\n        <p>Stock: {{ product.stock }}</p>\n      </div>\n    </div>\n  \n    <div class=\"border-l w-1/4 p-4 h-full sticky top-0\">\n      <h2 class=\"text-xl font-semibold mb-4\">Productos seleccionados</h2>\n      <div *ngFor=\"let product of selectedProducts; index as i\" class=\"mb-4\">\n        <div class=\"grid grid-cols-6 gap-2 items-center\">\n          <img [src]=\"product.image\" class=\"h-16 w-16 col-span-1\" />\n          <div class=\"col-span-3\">\n            <p>{{ product.name }}</p>\n            <p class=\"text-sm text-gray-500\">x{{ product.quantity }}</p>\n          </div>\n          <button (click)=\"addProduct(product)\" class=\"bg-blue-500 text-white px-2 py-1 rounded col-span-1\">+</button>\n          <button (click)=\"subtractProduct(product, i)\" class=\"bg-red-500 text-white px-2 py-1 rounded col-span-1\">-</button>\n        </div>\n        <div class=\"flex justify-between\">\n          <p>Precio unitario: ${{ product.sale_price }}</p>\n          <p>Precio total: ${{ product.sale_price * product.quantity! }}</p>\n        </div>\n      </div>\n      <div class=\"border-t mt-4 pt-4\">\n        <p class=\"font-semibold\">Total: ${{ getTotal() }}</p>\n        <button class=\"bg-blue-500 text-white px-4 py-2 rounded mt-4 w-full h-12 font-bold text-xl mb-4\">Comprar</button>\n      </div>\n    </div>\n  </div>\n  ","import { Component } from '@angular/core';\nimport { Product } from '../models/product';\n\n@Component({\n  selector: 'app-product-selector',\n  templateUrl: './product-selector.component.html',\n  styleUrls: ['./product-selector.component.scss']\n})\nexport class ProductSelectorComponent {\n  products: Product[] = [\n    { code: '7501000624089', name: 'Arcoiris', stock: 4, purchase_price: 5.91, sale_price: 6.0, image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750100062408L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF' },\n    { code: '75003135', name: 'Boing Guayaba', stock: 4, purchase_price: 10.25, sale_price: 12.0, image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00000007500177L.jpg' },\n    { code: '75003104', name: 'Boing Mango', stock: 4, purchase_price: 10.25, sale_price: 12.0, image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00000007500175L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF' },\n    { code: '75003159', name: 'Boing Manzana', stock: 3, purchase_price: 10.25, sale_price: 12.0, image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00000007500179L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF' },\n    { code: '7501011128323', name: 'Cheetos', stock: 5, purchase_price: 4.67, sale_price: 7.0, image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750101112832L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF' },\n    { code: '7500478023363', name: 'Cheetos Flamming Hot', stock: 3, purchase_price: 4.67, sale_price: 7.0, image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750047802336L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF' },\n    { code: '7500478008247', name: 'Chokis', stock: 4, purchase_price: 5.91, sale_price: 6.0, image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750047800824L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF' },\n    { code: '7501011132191', name: 'Churrumais', stock: 7, purchase_price: 4.67, sale_price: 7.0, image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750047800200L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF' },\n    { code: '7501011125704', name: 'Doritos', stock: 8, purchase_price: 4.67, sale_price: 7.0, image: 'https://m.media-amazon.com/images/I/71MhS674spL._AC_SX679_.jpg' },\n    { code: '7500478012398', name: 'Emperador Sabor Chocolate', stock: 5, purchase_price: 5.91, sale_price: 5.0, image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750047801239L.jpg' },\n    { code: '7500478012404', name: 'Emperador Sabor Vainilla', stock: 6, purchase_price: 5.91, sale_price: 5.0, image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750047801240L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF' },\n    { code: '7501031360130', name: 'Manzanita Sol', stock: 3, purchase_price: 8.25, sale_price: 10.0, image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750103136013L.jpg' },\n    { code: '7501030419037', name: 'Mini Gansito', stock: 22, purchase_price: 5.29, sale_price: 6.0, image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750103041903L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF' },\n    { code: '7501000630363', name: 'Mini Mamut', stock: 16, purchase_price: 2.2, sale_price: 3.0, image: 'https://cdn.shopify.com/s/files/1/0372/4450/2149/products/farm1_9446eb12-17ff-4004-b79d-fc2fb98cc282_1200x1200.jpg?v=1596841679' },\n    { code: '7501031346301', name: 'Mirinda', stock: 1, purchase_price: 8.25, sale_price: 10.0, image: 'https://despensaurbana.mx/content/images/thumbs/5f0e5fe51721854af7ff0c7b_Refresco_Mirinda_Lata_355_Ml_24_Pz_KYGMAU4OEH.jpg.png' },\n    { code: '040697741541', name: 'Muffins', stock: 20, purchase_price: 5.6, sale_price: 5.0, image: 'https://img.freepik.com/fotos-premium/cupcake-chispas-chocolate-sobre-fondo-blanco_319172-1105.jpg?w=2000' },\n    { code: '75000011', name: 'Nesquik', stock: 11, purchase_price: 9.76, sale_price: 10.0, image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00000007500001L.jpg' },\n    { code: '7501031311309', name: 'Pepsi', stock: 2, purchase_price: 8.25, sale_price: 10.0, image: 'https://despensaurbana.mx/content/images/thumbs/5f0e5fe51721854af7ff0c75_refresco-pepsi-regular-lata-355-ml.png' },\n    { code: '7501011125322', name: 'Rancheritos', stock: 8, purchase_price: 4.67, sale_price: 7.0, image: 'https://images.albertsons-media.com/is/image/ABS/960544064-ECOM?$ng-ecom-pdp-desktop$&defaultImage=Not_Available' },\n    { code: '7500478015610', name: 'Ruffles', stock: 6, purchase_price: 4.67, sale_price: 7.0, image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750047801561L1.jpg' },\n    { code: '7501011101005', name: 'Sabritas', stock: 2, purchase_price: 4.67, sale_price: 7.0, image: 'https://res.cloudinary.com/walmart-labs/image/upload/d_default.jpg/w_960,dpr_auto,f_auto,q_auto:best/gr/images/product-images/img_large/00750101110100L.jpg?odnHeight=612&odnWidth=612&odnBg=FFFFFF' },\n    { code: '7501071120091', name: 'Squirt', stock: 3, purchase_price: 8.25, sale_price: 10.0, image: 'https://www.pidefacilraul.com/cms/wp-content/uploads/2020/05/09-192.jpg' },\n  ];\n\n  selectedProducts: Product[] = [];\n\n  getTotal(): number {\n    return this.selectedProducts.reduce((total, product) => total + (product.sale_price * (product.quantity || 1)), 0);\n  }\n  \n\n  selectProduct(product: Product): void {\n    if (product.stock === 0) {\n      alert('Este producto no tiene stock disponible.');\n      return;\n    }\n  \n    if (!product.selected) {\n      product.selected = true;\n      product.quantity = 1;\n    } else {\n      product.quantity! += 1;\n    }\n  \n    product.stock -= 1;\n    if (!this.selectedProducts.includes(product)) {\n      this.selectedProducts.push(product);\n    }\n  }\n  \n\n  removeProduct(index: number): void {\n    this.selectedProducts[index].selected = false;\n    this.selectedProducts.splice(index, 1);\n  }\n\n  addProduct(product: Product): void {\n    if (product.stock === 0) {\n      alert('Este producto no tiene stock disponible.');\n      return;\n    }\n  \n    product.stock -= 1;\n    product.quantity! += 1;\n  }\n  \n  subtractProduct(product: Product, index: number): void {\n    if (product.quantity! > 1) {\n      product.stock += 1;\n      product.quantity! -= 1;\n    } else {\n      this.removeProduct(index);\n    }\n  }\n  \n\n  \n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}