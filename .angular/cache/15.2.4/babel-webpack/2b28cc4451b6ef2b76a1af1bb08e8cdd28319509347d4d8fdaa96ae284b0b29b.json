{"ast":null,"code":"import { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"../api.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/input\";\nimport * as i8 from \"@angular/material/form-field\";\nimport * as i9 from \"@angular/material/icon\";\nfunction PurchaseSummaryDialogComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate3(\" \", product_r1.name, \" x\", product_r1.quantity, \" - Total: $\", product_r1.sale_price * product_r1.quantity, \" \");\n  }\n}\nexport class PurchaseSummaryDialogComponent {\n  constructor(dialogRef, data, http, service) {\n    this.dialogRef = dialogRef;\n    this.data = data;\n    this.http = http;\n    this.service = service;\n    this.userCode = \"\";\n    this.amountToPay = 0;\n  }\n  numbersOnly(event) {\n    const charCode = event.charCode;\n    if (charCode >= 48 && charCode <= 57) {\n      return true;\n    }\n    event.preventDefault();\n    return false;\n  }\n}\nPurchaseSummaryDialogComponent.ɵfac = function PurchaseSummaryDialogComponent_Factory(t) {\n  return new (t || PurchaseSummaryDialogComponent)(i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject(i3.ApiService));\n};\nPurchaseSummaryDialogComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PurchaseSummaryDialogComponent,\n  selectors: [[\"app-purchase-summary-dialog\"]],\n  decls: 24,\n  vars: 5,\n  consts: [[\"mat-dialog-title\", \"\", 1, \"text-center\"], [\"mat-dialog-content\", \"\", 1, \"text-center\"], [1, \"selected-products\"], [4, \"ngFor\", \"ngForOf\"], [1, \"font-semibold\", \"mt-4\"], [\"appearance\", \"fill\", 1, \"w-full\", \"mt-4\"], [\"matInput\", \"\", \"type\", \"text\", \"required\", \"\", \"maxlength\", \"5\", 3, \"ngModel\", \"ngModelChange\", \"keypress\"], [\"matPrefix\", \"\"], [\"matInput\", \"\", \"type\", \"number\", \"required\", \"\", \"step\", \"0.5\", 3, \"ngModel\", \"ngModelChange\"], [\"mat-dialog-actions\", \"\", 2, \"display\", \"flex\", \"justify-content\", \"center\"], [\"mat-button\", \"\", \"mat-dialog-close\", \"\", \"color\", \"warn\", 1, \"mx-2\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"mx-2\", 3, \"disabled\", \"click\"]],\n  template: function PurchaseSummaryDialogComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\", 0);\n      i0.ɵɵtext(1, \"Resumen de compra\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 1)(3, \"div\", 2);\n      i0.ɵɵtemplate(4, PurchaseSummaryDialogComponent_div_4_Template, 2, 3, \"div\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"p\", 4);\n      i0.ɵɵtext(6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"mat-form-field\", 5)(8, \"mat-label\");\n      i0.ɵɵtext(9, \"C\\u00F3digo de usuario\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function PurchaseSummaryDialogComponent_Template_input_ngModelChange_10_listener($event) {\n        return ctx.data.userID = $event;\n      })(\"ngModelChange\", function PurchaseSummaryDialogComponent_Template_input_ngModelChange_10_listener($event) {\n        return ctx.data.userID = $event;\n      })(\"keypress\", function PurchaseSummaryDialogComponent_Template_input_keypress_10_listener($event) {\n        return ctx.numbersOnly($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"mat-icon\", 7);\n      i0.ɵɵtext(12, \"person\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"mat-form-field\", 5)(14, \"mat-label\");\n      i0.ɵɵtext(15, \"Monto a pagar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"input\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function PurchaseSummaryDialogComponent_Template_input_ngModelChange_16_listener($event) {\n        return ctx.data.amountToPay = $event;\n      })(\"ngModelChange\", function PurchaseSummaryDialogComponent_Template_input_ngModelChange_16_listener($event) {\n        return ctx.data.amountToPay = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"mat-icon\", 7);\n      i0.ɵɵtext(18, \"attach_money\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(19, \"div\", 9)(20, \"button\", 10);\n      i0.ɵɵtext(21, \"Cancelar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function PurchaseSummaryDialogComponent_Template_button_click_22_listener() {\n        return ctx.data.purchase();\n      });\n      i0.ɵɵtext(23, \" Comprar\\n\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.data.selectedProducts);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"Total de compra: $\", ctx.data.total, \"\");\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.data.userID);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.data.amountToPay);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"disabled\", !ctx.data.userID || !ctx.data.amountToPay);\n    }\n  },\n  dependencies: [i4.NgForOf, i1.MatDialogClose, i1.MatDialogTitle, i1.MatDialogContent, i1.MatDialogActions, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.NgControlStatus, i5.RequiredValidator, i5.MaxLengthValidator, i5.NgModel, i6.MatButton, i7.MatInput, i8.MatFormField, i8.MatLabel, i8.MatPrefix, i9.MatIcon],\n  styles: [\".selected-products[_ngcontent-%COMP%] {\\n  list-style-type: disc;\\n  padding-inline-start: 20px;\\n}\\n\\nlabel[_ngcontent-%COMP%] {\\n  display: block;\\n  margin-top: 16px;\\n}\\n\\ninput[_ngcontent-%COMP%] {\\n  display: block;\\n  width: 100%;\\n  padding: 6px 12px;\\n  margin-top: 4px;\\n  border: 1px solid #ccc;\\n  border-radius: 4px;\\n  box-sizing: border-box;\\n}\\n\\nmat-dialog-actions[_ngcontent-%COMP%] {\\n  width: 100%;\\n  display: flex;\\n  justify-content: center;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHVyY2hhc2Utc3VtbWFyeS1kaWFsb2cvcHVyY2hhc2Utc3VtbWFyeS1kaWFsb2cuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxxQkFBQTtFQUNBLDBCQUFBO0FBQ0o7O0FBRUU7RUFDRSxjQUFBO0VBQ0EsZ0JBQUE7QUFDSjs7QUFFRTtFQUNFLGNBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7RUFDQSxlQUFBO0VBQ0Esc0JBQUE7RUFDQSxrQkFBQTtFQUNBLHNCQUFBO0FBQ0o7O0FBRUU7RUFDRSxXQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0FBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyIuc2VsZWN0ZWQtcHJvZHVjdHMge1xuICAgIGxpc3Qtc3R5bGUtdHlwZTogZGlzYztcbiAgICBwYWRkaW5nLWlubGluZS1zdGFydDogMjBweDtcbiAgfVxuICBcbiAgbGFiZWwge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIG1hcmdpbi10b3A6IDE2cHg7XG4gIH1cbiAgXG4gIGlucHV0IHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICB3aWR0aDogMTAwJTtcbiAgICBwYWRkaW5nOiA2cHggMTJweDtcbiAgICBtYXJnaW4tdG9wOiA0cHg7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgfVxuICBcbiAgbWF0LWRpYWxvZy1hY3Rpb25zIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICB9XG4gICJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"AACA,SAAuBA,eAAe,QAAQ,0BAA0B;;;;;;;;;;;;;ICEpEC,2BAAmD;IACjDA,YACF;IAAAA,iBAAM;;;;IADJA,eACF;IADEA,uIACF;;;ADMJ,OAAM,MAAOC,8BAA8B;EAIzCC,YACSC,SAAuD,EAC9BC,IAAS,EAAUC,IAAgB,EAAUC,OAAmB;IADzF,cAAS,GAATH,SAAS;IACgB,SAAI,GAAJC,IAAI;IAAe,SAAI,GAAJC,IAAI;IAAsB,YAAO,GAAPC,OAAO;IALtF,aAAQ,GAAW,EAAE;IACrB,gBAAW,GAAW,CAAC;EAKpB;EAEHC,WAAW,CAACC,KAAoB;IAC9B,MAAMC,QAAQ,GAAGD,KAAK,CAACC,QAAQ;IAC/B,IAAIA,QAAQ,IAAI,EAAE,IAAIA,QAAQ,IAAI,EAAE,EAAE;MACpC,OAAO,IAAI;;IAEbD,KAAK,CAACE,cAAc,EAAE;IACtB,OAAO,KAAK;EACd;;AAhBWT,8BAA8B;mBAA9BA,8BAA8B,8DAM/BF,eAAe;AAAA;AANdE,8BAA8B;QAA9BA,8BAA8B;EAAAU;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCX3Cf,6BAAyC;MAAAA,iCAAiB;MAAAA,iBAAK;MAC/DA,8BAA4C;MAExCA,+EAEM;MACRA,iBAAM;MACNA,4BAA8B;MAAAA,YAAkC;MAAAA,iBAAI;MACpEA,yCAAsD;MACzCA,sCAAiB;MAAAA,iBAAY;MACxCA,iCAQF;MALAA;QAAA;MAAA,EAAyB;QAAA;MAAA;QAAA,OAIbgB,uBAAmB;MAAA,EAJN;MAHvBhB,iBAQF;MAGEA,oCAAoB;MAAAA,uBAAM;MAAAA,iBAAW;MAEvCA,0CAAsD;MACzCA,8BAAa;MAAAA,iBAAY;MACpCA,iCAOA;MAJAA;QAAA;MAAA,EAA8B;QAAA;MAAA;MAH9BA,iBAOA;MAGAA,oCAAoB;MAAAA,6BAAY;MAAAA,iBAAW;MAG/CA,+BAAwE;MACRA,yBAAQ;MAAAA,iBAAS;MAC/EA,mCAMD;MAFCA;QAAA,OAASgB,mBAAe;MAAA,EAAC;MAGzBhB,2BACF;MAAAA,iBAAS;;;MA7CoBA,eAAwB;MAAxBA,mDAAwB;MAIrBA,eAAkC;MAAlCA,+DAAkC;MAMhEA,eAAyB;MAAzBA,yCAAyB;MAevBA,eAA8B;MAA9BA,8CAA8B;MAehCA,eAA8C;MAA9CA,oEAA8C","names":["MAT_DIALOG_DATA","i0","PurchaseSummaryDialogComponent","constructor","dialogRef","data","http","service","numbersOnly","event","charCode","preventDefault","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/macbook/Documents/GitHub/UnicappWeb/src/app/purchase-summary-dialog/purchase-summary-dialog.component.ts","/Users/macbook/Documents/GitHub/UnicappWeb/src/app/purchase-summary-dialog/purchase-summary-dialog.component.html"],"sourcesContent":["import { Component, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { HttpClient } from '@angular/common/http';\nimport { ApiService } from '../api.service';\n\n\n@Component({\n  selector: 'app-purchase-summary-dialog',\n  templateUrl: './purchase-summary-dialog.component.html',\n  styleUrls: ['./purchase-summary-dialog.component.scss'],\n})\nexport class PurchaseSummaryDialogComponent {\n  userCode: string = \"\";\n  amountToPay: number = 0;\n\n  constructor(\n    public dialogRef: MatDialogRef<PurchaseSummaryDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: any, private http: HttpClient, private service: ApiService\n  ) {}\n\n  numbersOnly(event: KeyboardEvent): boolean {\n    const charCode = event.charCode;\n    if (charCode >= 48 && charCode <= 57) {\n      return true;\n    }\n    event.preventDefault();\n    return false;\n  }\n}\n","<h1 mat-dialog-title class=\"text-center\">Resumen de compra</h1>\n<div mat-dialog-content class=\"text-center\">\n  <div class=\"selected-products\">\n    <div *ngFor=\"let product of data.selectedProducts\">\n      {{ product.name }} x{{ product.quantity }} - Total: ${{ product.sale_price * product.quantity }}\n    </div>\n  </div>\n  <p class=\"font-semibold mt-4\">Total de compra: ${{ data.total }}</p>\n  <mat-form-field appearance=\"fill\" class=\"w-full mt-4\">\n    <mat-label>Código de usuario</mat-label>\n    <input\n  matInput\n  type=\"text\"\n  [(ngModel)]=\"data.userID\"\n  (ngModelChange)=\"data.userID = $event\"\n  required\n  maxlength=\"5\"\n  (keypress)=\"numbersOnly($event)\"\n/>\n\n\n    <mat-icon matPrefix>person</mat-icon>\n  </mat-form-field>\n  <mat-form-field appearance=\"fill\" class=\"w-full mt-4\">\n    <mat-label>Monto a pagar</mat-label>\n    <input\n    matInput\n    type=\"number\"\n    [(ngModel)]=\"data.amountToPay\"\n    (ngModelChange)=\"data.amountToPay = $event\"\n    required\n    step=\"0.5\"\n  />\n  \n  \n    <mat-icon matPrefix>attach_money</mat-icon>\n  </mat-form-field>\n</div>\n<div mat-dialog-actions style=\"display: flex; justify-content: center;\">\n  <button mat-button mat-dialog-close color=\"warn\" class=\"mx-2\">Cancelar</button>\n  <button\n  mat-raised-button\n  color=\"primary\"\n  [disabled]=\"!data.userID || !data.amountToPay\"\n  (click)=\"data.purchase()\"\n  class=\"mx-2\"\n>\n  Comprar\n</button>\n\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}